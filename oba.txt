

(function() {
    'use strict';

    // Video elementi seçimi
    const video = document.querySelector('video');

    // Videonun bitip bitmediğini kontrol eden fonksiyon
    const checkVideoEnded = () => {
        if (video && video.ended) {
            // Mevcut URL'yi al
            const currentUrl = window.location.href;
            const urlParts = currentUrl.split('/');
            const lastPart = urlParts[urlParts.length - 1];
            const nextNumber = parseInt(lastPart) + 1; // Son sayıyı artır

            // Yeni URL'yi oluştur
            const newUrl = currentUrl.replace(lastPart, nextNumber);

            // Yeni sayfaya git
            window.location.href = newUrl;

            // Oyun başlatma fonksiyonunu yeni sayfada çağır
            setTimeout(() => {
                const playButton = document.querySelector('button.play'); // Oynatma butonunu seç
                if (playButton) {
                    playButton.click(); // Oynatma butonuna bas
                }
            }, 1000); // Sayfa yüklendikten sonra 1 saniye bekle
        }
    };

    // Videonun bitip bitmediğini her 5 saniyede bir kontrol et
    setInterval(checkVideoEnded, 5000);
})();
